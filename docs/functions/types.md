## [types](src/functions/types.ts)

A collection of helpers to check or extend types.

### Type checking

| Function | Description | Parameters | Returns |
|----------|-------------|------------|---------|
| isArray | check if value is array | value: any | isArray: boolean |
| isObject | check if value is object | value: any | isObject: boolean |
| isPlainObject | check if value is plain JS Object | value: any | isPlainObject: boolean |
| isBasedOnObject | check if typeof value is 'object' and value is not null | value: any | isBasedOnObject: boolean |
| isFunction | check if value is function | value: any | isFunction: boolean |
| isBoolean | check if value is boolean | value: any | isBoolean: boolean |
| isString | check if value is string | value: any | isString: boolean |
| isDate | check if value is Date | value: any | isDate: boolean |
| isNumber | check if value is a valid Number | value: any | isNumber: boolean |
| isFiniteNumber | check if value is a valid finite number | value: any | isFiniteNumber: boolean |
| isInteger | check if value is valid integer | value: any | isInteger: boolean |
| isPromise | check if value is a Promise | value: any | isPromise: boolean |

### types.geType(value)

Gets the detailed type of a value.

| Parameter | Description | Type | Required/Default |
|----------|-------------|------------|---------|
| value | the value to get the type for | required |
| **
@returns** | the type, like `'string'`, `'number'`, `'date'`, `'undefined'`, `'function'`, `'null'`, `'promise'` or `'object'` | string | |

### Functions for multiple types

#### types.length(value)

Get the length of a value, depending on its type. Return array or string length, count of object keys or number of
digits.

| Parameter | Description | Type | Required/Default |
|-----------|-------------|------|------------------|  
| value | the value to get the length of | any | required |
| **@returns** | the length of the value | number | `0` |

#### types.isNullOrEmpty

Get whether a value is null, undefined or an empty array/string/object

| Parameter | Description | Type | Required/Default |
|-----------|-------------|------|------------------|  
| value | the value | any | required |
| **@returns** | value is null empty | boolean | `false` |

### Array functions

#### types.safeFirst(arr, callback?)

A FirstOrDefault function. Return the first element matching the callback or null

| Parameter | Description | Type | Required/Default |
|-----------|-------------|------|------------------|  
| arr | the source array | Array<T> | required |
| callback | a callback used to filter the array. Receives an element and returns if it is a match | (element: T, index: number, array: Array<T>) => boolean | `() => true` |
| **@returns** | the first element for which the callback returns `true`, otherwise `null` | boolean/null | |

**Examples**

```javascript
let value = types.safeFirst([1, 2, 3]); // => 1
value = types.safeFirst([1, 2, 3], (v) => (v > 1)); // => 2
```

#### types.distinct(arr, selector)

A function that filters an array to only contain values that are distinct according to the selector. Later values take
priority over earlier values.

| Parameter | Description | Type | Required/Default |
|-----------|-------------|------|------------------|  
| arr | the source array | Array<any> | required |
| selector | a callback that receives the element and returns the value the element should be distinct by | (value: any) => any | required |
| **@returns** | the new distinct array | Array<any> | |

**Examples**

```javascript
let array = types.distinct([1, 1, 2, 3, 3], (v) => v); // => [1, 2, 3]
array = types.distinct([{ id: 1 }, { id: 2 }, { id: 2 }, { id: 3 }], (v) => v.id); // => [{ id: 1 }, { id: 2 }, { id: 3 }]
```

### Object functions

#### types.forEachKey

Like array.forEach, but for objects

| Parameter | Description | Type | Required/Default |
|-----------|-------------|------|------------------|  
| obj | the source object | Object<string, T> | required |
| callback | a function that is called for each key-value pair | (key: string, value: T, index: number, source: Object) => void | required |

#### types.mapObject

Like array.map, but for objects. The result object will have the same keys but will have new values generated by the
callback.

| Parameter | Description | Type | Required/Default |
|-----------|-------------|------|------------------|  
| obj | the source object | Object<string, T> | required |
| callback | a function that is called for each key-value pair | (key: string, value: T, index: number, source: Object) => TResult | required |
| **
@returns** | The result object. Keys are identical, values were returned from the callback | Object<string, TResult> | |

#### types.reduceObject

Like array.reduce but for objects

| Parameter | Description | Type | Required/Default |
|-----------|-------------|------|------------------|  
| obj | the source object | Object | required |
| callback | the reduction callback, receives the total, and the key-value pair and returns the new total | (total: any, key: string, value: any, index: number, source: Object) => any | required |
| initialValue | the initial value, passed as first parameter to the first call of the callback | any | `{}` |
| **@returns** | the value returned from the last call of the callback | any |

**Examples**
```javascript
const sum = types.reduceObject({
    a: 1,
    b: 2,
    c: 3,
}, (total, key, value, index, source) => {
    return total + (value/source.length);
}, 0); // => 2
const arrayOfValues = types.reduceObject({
    a: 1,
    b: 2,
    c: 3,
}, (total, key, value, index, source) => {
    return [...total, value]
}, []); // => [1, 2, 3]
const swapKeyAndValue = types.reduceObject({
    a: 1,
    b: 2,
    c: 3,
}, (total, key, value, index, source) => {
    total[value] = key;
}); // => { 1: 'a', 2: 'b', 3: 'c' }
```

### Other
#### replaceAll
A string replace function with multiple iterations

| Parameter | Description | Type | Required/Default |
|-----------|-------------|------|------------------|
| string | the source string | string | required |
| search | the search parameter | string/RegExp | required |
| replacement | the replacement parameter | string/(substr: string, ...args: any) => string | required |
| maxReplacement | maximum iterations to avoid infinite loop | number | `200` |
| **@returns** | The result string | string | |


